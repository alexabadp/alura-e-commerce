{"version":3,"sources":["service/controladores/actualizarProducto.js"],"names":["clienteServidor","formulario","document","querySelector","obtenerInformacion","async","id","URL","window","location","searchParams","get","alert","urlProducto","categoriaProducto","nombreProducto","precioProducto","mensajeProducto","console","log","value","producto","detalleProducto","url","categoria","nombre","precio","descripcion","Error","error","addEventListener","evento","preventDefault","actualizarProducto","then","href"],"mappings":"OAASA,oBAAuB,yBAEhC,MAAMC,WAAaC,SAASC,cAAc,oBAEpCC,mBAAqBC,UACzB,MACMC,EADM,IAAIC,IAAIC,OAAOC,UACZC,aAAaC,IAAI,MAErB,OAAPL,GAEFM,MAAM,0BAGR,MAAMC,EAAcX,SAASC,cAAc,uBACrCW,EAAoBZ,SAASC,cAAc,6BAC3CY,EAAiBb,SAASC,cAAc,0BACxCa,EAAiBd,SAASC,cAAc,0BACxCc,EAAkBf,SAASC,cAAc,2BAE/Ce,QAAQC,IAAIH,EAAeI,OAE3B,IACE,MAAMC,QAAiBrB,gBAAgBsB,gBAAgBhB,GAEvD,KACEe,EAASE,KACTF,EAASG,WACTH,EAASI,QACTJ,EAASK,QACTL,EAASM,aAQT,MAAM,IAAIC,MANVf,EAAYO,MAAQC,EAASE,IAC7BT,EAAkBM,MAAQC,EAASG,UACnCT,EAAeK,MAAQC,EAASI,OAChCT,EAAeI,MAAQC,EAASK,OAChCT,EAAgBG,MAAQC,EAASM,YAInC,MAAOE,GAEPjB,MAAM,yBAIVR,qBAEAH,WAAW6B,iBAAiB,SAAWC,IACrCA,EAAOC,iBACP,MAAMT,EAAM,IAAIhB,IAAIC,OAAOC,UACrBH,EAAKiB,EAAIb,aAAaC,IAAI,MAEhCO,QAAQC,IAAIb,GACZY,QAAQC,IAAII,GAEZ,MAAMV,EAAcX,SAASC,cAAc,uBAAuBiB,MAC5DN,EAAoBZ,SAASC,cACjC,6BACAiB,MACIL,EAAiBb,SAASC,cAAc,0BAA0BiB,MAClEJ,EAAiBd,SAASC,cAAc,0BAA0BiB,MAClEH,EAAkBf,SAASC,cAC/B,2BACAiB,MAEFpB,gBACGiC,mBACCpB,EACAC,EACAC,EACAC,EACAC,EACAX,GAED4B,KAAK,KACJ1B,OAAOC,SAAS0B,KAAO","file":"actualizarProducto.js","sourcesContent":["import { clienteServidor } from \"../cliente-servidor.js\";\r\n\r\nconst formulario = document.querySelector(\"[edit-data-form]\");\r\n\r\nconst obtenerInformacion = async () => {\r\n  const url = new URL(window.location);\r\n  const id = url.searchParams.get(\"id\");\r\n\r\n  if (id === null) {\r\n    // window.location.href = \"\";\r\n    alert(\"error de actualizacion\");\r\n  }\r\n\r\n  const urlProducto = document.querySelector(\"[edit-url-producto]\");\r\n  const categoriaProducto = document.querySelector(\"[edit-categoria-producto]\");\r\n  const nombreProducto = document.querySelector(\"[edit-nombre-producto]\");\r\n  const precioProducto = document.querySelector(\"[edit-precio-producto]\");\r\n  const mensajeProducto = document.querySelector(\"[edit-mensaje-producto]\");\r\n\r\n  console.log(precioProducto.value);\r\n\r\n  try {\r\n    const producto = await clienteServidor.detalleProducto(id);\r\n\r\n    if (\r\n      producto.url &&\r\n      producto.categoria &&\r\n      producto.nombre &&\r\n      producto.precio &&\r\n      producto.descripcion\r\n    ) {\r\n      urlProducto.value = producto.url;\r\n      categoriaProducto.value = producto.categoria;\r\n      nombreProducto.value = producto.nombre;\r\n      precioProducto.value = producto.precio;\r\n      mensajeProducto.value = producto.descripcion;\r\n    } else {\r\n      throw new Error();\r\n    }\r\n  } catch (error) {\r\n    // window.location.href = ''\r\n    alert(\"error al actualizar\");\r\n  }\r\n};\r\n\r\nobtenerInformacion();\r\n\r\nformulario.addEventListener(\"submit\", (evento) => {\r\n  evento.preventDefault();\r\n  const url = new URL(window.location);\r\n  const id = url.searchParams.get(\"id\");\r\n\r\n  console.log(id);\r\n  console.log(url);\r\n\r\n  const urlProducto = document.querySelector(\"[edit-url-producto]\").value;\r\n  const categoriaProducto = document.querySelector(\r\n    \"[edit-categoria-producto]\"\r\n  ).value;\r\n  const nombreProducto = document.querySelector(\"[edit-nombre-producto]\").value;\r\n  const precioProducto = document.querySelector(\"[edit-precio-producto]\").value;\r\n  const mensajeProducto = document.querySelector(\r\n    \"[edit-mensaje-producto]\"\r\n  ).value;\r\n\r\n  clienteServidor\r\n    .actualizarProducto(\r\n      urlProducto,\r\n      categoriaProducto,\r\n      nombreProducto,\r\n      precioProducto,\r\n      mensajeProducto,\r\n      id\r\n    )\r\n    .then(() => {\r\n      window.location.href = \"../../../../administrador.html\";\r\n    });\r\n});\r\n"]}